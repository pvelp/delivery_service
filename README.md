# delivery_service

## Поднятие докерфайла:
- docker-compose build
- docker-compose up
- Далее открываете вторую консоль, так как предыдущая занята работой сервера
- docker ps
- Находите id для delivery_service:dev_back и копируете его
- docker exec -it айди python backend/manage.py csu

## Ручки для обновления БД товарами:
Реализовано следующим образом (самих ссылок в админке нет, только через строку переход):
1) Админ добавляет в модель Ключи компании из iikoWeb API key из лк iiko
2) делает запрос на сервер вставляя ссылку в браузере домен/admin/admins/iikoapikey/get-token-and-fetch-menu/  — получаем айдишники меню
3) делает запрос также по ссылке домен/admin/admins/iikoapikey/get-organizations/ — получаем айдишники организаций
4) делает запрос по ссылке домен/admin/admins/iikoapikey/save-menu/ — здесь есть шаблон, куда админ должен ввести нужное ему меню (id) и организацию (id) и нажать на активную кнопку для получения всех категорий и товаров этой организации и меню. В этот момент происходит update_or_create для всех записей в категориях и продуктах

